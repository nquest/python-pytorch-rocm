pkgbase = python-pytorch-rocm
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration
	pkgver = 1.7.1
	pkgrel = 4
	url = https://pytorch.org
	arch = x86_64
	license = BSD
	makedepends = python
	makedepends = python-setuptools
	makedepends = python-yaml
	makedepends = python-numpy
	makedepends = cmake
	makedepends = rocm
	makedepends = rocm-libs
	makedepends = miopen
	makedepends = git
	makedepends = ninja
	makedepends = pkgconfig
	makedepends = doxygen
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = rccl
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = protobuf
	depends = ffmpeg
	depends = python-future
	depends = qt5-base
	depends = onednn
	depends = intel-mkl
	source = pytorch-1.7.1::git+https://github.com/pytorch/pytorch.git#tag=v1.7.1
	source = fix_include_system.patch
	source = use-system-libuv.patch
	source = use-system-libuv2.patch
	source = nccl_version.patch
	source = disable_non_x86_64.patch
	source = find-hsa-runtime.patch::https://patch-diff.githubusercontent.com/raw/pytorch/pytorch/pull/45550.patch
	source = fix-hip-version.patch
	sha256sums = SKIP
	sha256sums = 83c81ec6a461110da6ae6182529f58100986b068c5182ca62cd53c648b4e4fb0
	sha256sums = 26b1dd596f1e21a011ee18cab939924483d6c6d4d98e543bf76f5a9312d54d67
	sha256sums = 7b65c3b209fc39f92ba58a58be6d3da40799f1922910b1171ccd9209eda1f9eb
	sha256sums = e4a96887b41cbdfd4204ce5f16fcb16a23558d23126331794ab6aa30a66f2e0d
	sha256sums = d3ef8491718ed7e814fe63e81df2f49862fffbea891d2babbcb464796a1bd680
	sha256sums = SKIP
	sha256sums = a972c80561320e36b6c32933294b2b6c19715233e15c7976f2eb2db44c436b3b

pkgname = python-pytorch-rocm
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration (with ROCM)
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = rccl
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = protobuf
	depends = ffmpeg
	depends = python-future
	depends = qt5-base
	depends = onednn
	depends = intel-mkl
	depends = rocm
	depends = rocm-libs
	depends = miopen
	provides = python-pytorch
	conflicts = python-pytorch

pkgname = python-pytorch-opt-rocm
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration (with ROCM and AVX2 CPU optimizations)
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = rccl
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = libuv
	depends = python-numpy
	depends = protobuf
	depends = ffmpeg
	depends = python-future
	depends = qt5-base
	depends = onednn
	depends = intel-mkl
	depends = rocm
	depends = rocm-libs
	depends = miopen
	provides = python-pytorch
	provides = python-pytorch-rocm
	conflicts = python-pytorch

